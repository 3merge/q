import {
  Meta,
  Story,
  Preview,
  Props,
} from '@storybook/addon-docs/blocks';
import Autocomplete from './Autocomplete';
import {
  autocomplete,
  countries,
} from '../__fixtures__/options';
import { Form, Field } from '../../builders';

<Meta
  title="Forms|Fields/Autocomplete"
  component={Autocomplete}
/>

<Preview>
  <Story name="With disabled options">
    <Form debug initialValues={{ demo: { value: 'US' } }}>
      <Field
        name="demo"
        type="autocomplete"
        options={countries.map(({ value }) => value)}
        getOptionDisabled={({ value }) => value === 'CA'}
        label="Custom label"
        required
        filter
      />
    </Form>
  </Story>
</Preview>

<Preview>
  <Story name="With lazy loading">
    <Form debug>
      <Field
        type="autocomplete"
        name="demo"
        loadOptions={autocomplete}
      />
    </Form>
  </Story>
</Preview>

<Preview>
  <Story name="With free solo">
    <Form debug>
      <Field
        type="autocomplete"
        name="demo"
        loadOptions={autocomplete}
        freeSolo
      />
    </Form>
  </Story>
</Preview>
