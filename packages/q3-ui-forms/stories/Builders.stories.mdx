import {
  Meta,
  Story,
  Preview,
  Props,
} from '@storybook/addon-docs/blocks';
import Provider from '../src';
import { Form, Field } from '../src/builders';
import { FormBuilder } from '../src/builders/Form/Form';
import Wrapper, {
  InnerForm,
} from '../src/builders/Wrapper/Wrapper';
import { countries } from '../src/fields/__fixtures__/options';

<Meta
  title="Forms|Builder"
  component={Wrapper}
  subtitle="hello"
  parameters={{ componentSubtitle: 'HI' }}
/>

# Form Builders

## Simple

Sometimes, we'll need something else.

<Preview>
  <Story name="Simple">
    <Provider>
      <Form
        debug
        restart
        showPersistenceSnack
        initialErrors={{
          'preferences': {
            colour: 'Not a real colour',
          },
        }}
      >
        <Field name="firstName" type="text" />
        <Field name="preferences.colour" type="text" />
        <Field
          name="countries"
          type="autocomplete"
          options={countries}
        />
      </Form>
    </Provider>
  </Story>
</Preview>

### Multistep

Sometimes, we'll need something else.

<Preview>
  <Story name="Multistep">
    <Form>
      <Field name="firstName" type="text" />
    </Form>
  </Story>
</Preview>

## API

<Props of={InnerForm} />
