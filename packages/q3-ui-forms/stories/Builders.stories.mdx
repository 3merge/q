import {
  Meta,
  Story,
  Preview,
  Props,
} from '@storybook/addon-docs/blocks';
import Provider from '../src';
import {
  Form,
  Field,
  Fieldset,
  Multistep,
} from '../src/builders';
import { FormBuilder } from '../src/builders/Form/Form';
import Wrapper, {
  InnerForm,
} from '../src/builders/Wrapper/Wrapper';
import { countries } from '../src/fields/__fixtures__/options';

<Meta
  title="Forms/Builder"
  component={Wrapper}
  subtitle="hello"
  parameters={{ componentSubtitle: 'HI' }}
/>

# Form Builders

## Simple

Sometimes, we'll need something else.

<Preview>
  <Story name="Simple">
    <Provider>
      <Form
        debug
        restart
        initialErrors={{
          'preferences': {
            colour: 'Not a real colour',
          },
        }}
      >
        <Field name="firstName" type="text" />
        <Field name="preferences.colour" type="text" />
        <Field
          name="countries"
          type="autocomplete"
          options={countries}
        />
      </Form>
    </Provider>
  </Story>
</Preview>

### Multistep

Sometimes, we'll need something else.

<Preview>
  <Story name="Multistep">
    <Multistep>
      <Fieldset name="test">
        <Field name="firstName" type="text" required />
        <Field name="lastName" type="text" required />
      </Fieldset>
      <Fieldset name="test1">
        <Field name="email" type="email" required />
        <Field name="tel" type="tel" required />
        <Field name="age" type="age" required />
        <Field name="other" type="text" required />
      </Fieldset>
      <Fieldset name="test2">
        <Field
          name="job"
          type="autocomplete"
          options={[]}
          required
        />
        <Field name="date" type="date" required />
        <Field
          name="description"
          type="text"
          required
          multiline
          rows={5}
        />
      </Fieldset>
    </Multistep>
  </Story>
</Preview>

## API

<Props of={InnerForm} />
