import {
  Meta,
  Story,
  Preview,
  Props,
} from '@storybook/addon-docs/blocks';
import {
  Button,
  Container,
  Paper,
  Box,
  Grid,
  Typography,
  Dialog,
} from '@material-ui/core';
import RichTextEditor from './RichTextEditor';
import { toQ3Api } from '../../adapters';

<Meta title="RichTextEditor" component={RichTextEditor} />

<Preview>
  <Story name="Default">
    <RichTextEditor />
  </Story>
  <Story name="Container">
    <Box my={4}>
      <Container>
        <Paper>
          <RichTextEditor upload={toQ3Api('/foo')} />
        </Paper>
      </Container>
    </Box>
  </Story>
  <Story name="autosave">
    <Paper
      style={{
        height: '100vh',
        width: '100%',
        overflow: 'hidden',
      }}
    >
      <Dialog fullScreen open>
        <RichTextEditor id="testing" autofocus>
          <Container maxWidth="xl">
            <Grid container justify="space-between">
              <Grid item>
                <Typography variant="h6">
                  Document title
                </Typography>
              </Grid>
              <Grid item>
                <Button>Discard</Button>
                <Button variant="contained" color="primary">
                  Publish
                </Button>
              </Grid>
            </Grid>
          </Container>
        </RichTextEditor>
      </Dialog>
    </Paper>
  </Story>
  <Story name="Default value">
    <RichTextEditor defaultValue="<h2><strong>Hello world</strong></h2><img src='https://images.unsplash.com/photo-1618799805265-4f27cb61ede9?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=675&q=80'/><p>This is a new sentence.</p>">
      <Button>Publish</Button>
    </RichTextEditor>
  </Story>
</Preview>
