import Box from '@material-ui/core/Box';
import Container from '@material-ui/core/Container';
import Card from '@material-ui/core/Card';
import Grid from '@material-ui/core/Grid';
import CardContent from '@material-ui/core/CardContent';
import AppBar from '@material-ui/core/AppBar';
import Locale from 'q3-ui-locale';
import useFixtures, { genProduct } from './useFixtures';

import Provider, {
  AddToCart,
  LineItem,
  Launcher,
  Drawer,
} from '../src';

<Meta title="Cart/Demo" component={Provider} />

# Cart

<Preview>
  <Story name="Demo">
    <Locale>
      <Provider {...useFixtures()}>
        <Box>
          <AppBar color="inherit">
            <Box>
              <Launcher>
                {(close, isOpen) => (
                  <Drawer
                    titleKey="title"
                    close={close}
                    isOpen={isOpen}
                    shopPath="/shop"
                    checkoutPath="/checkout"
                  >
                    <LineItem />
                  </Drawer>
                )}
              </Launcher>
            </Box>
          </AppBar>
          <Box my={8}>
            <Container>
              <Card style={{ width: 350 }}>
                <CardContent>
                  <AddToCart
                    AddToCartButtonProps={{
                      companion: true,
                    }}
                    product="abc"
                    variant="spread"
                    size="small"
                  />
                </CardContent>
              </Card>
            </Container>
          </Box>
        </Box>
      </Provider>
    </Locale>
  </Story>
</Preview>

<Preview>
  <Story name="Opened">
    <Locale>
      <Provider
        {...useFixtures([
          genProduct({ product: 'abc', quantity: 1 }),
        ])}
      >
        <main>
          <h1>Checkout</h1>
          <LineItem />
        </main>
      </Provider>
    </Locale>
  </Story>
</Preview>
