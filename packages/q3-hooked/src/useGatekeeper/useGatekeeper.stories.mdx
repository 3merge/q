import {
  Meta,
  Story,
  Preview,
  Props,
} from '@storybook/addon-docs/blocks';

<Meta title="Hooked/useGatekeeper" />

# useGatekeeper

Used to protect certain components and routes from
unauthorized users

## Props

| Property              | Type          | Description                                                                                                                             |
| --------------------- | ------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| redirectPathOnPublic  | string        | path for unauthorized users                                                                                                             |
| redirectPathOnSession | string        | path for authorized users                                                                                                               |
| redirectCheck         | (a) -> string | redirectCheck is called automatically with the auth state. useGatekeeper uses this string to navigate if redirectCheck returns a string |

## Return value

useGatekeeper returns boolean whilte authorizing users. It
automatically navigates unauthorized users respectively. It
returns null if users are authorized.

| Property  | Description |
| --------- | ----------- |
| `default` | boolean     | null |

## Example

```javascript
import { useGatekeeper } from 'q3-hooked';
import Gatekeeper from 'Gatekeeper';
import Spiner from './Spiner';

export default ({
  children,
  redirectPathOnPublic,
  redirectPathOnSession,
  redirectCheck,
}) => {
  const isLoading = useGatekeeper({
    redirectPathOnPublic,
    redirectPathOnSession,
    redirectCheck,
  });

  if (isLoading) {
    return <Spiner />;
  }

  return children;
};
```
